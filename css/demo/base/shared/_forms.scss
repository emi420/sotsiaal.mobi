// -----------------------------------------------------------------------------------
// Forms shared styling
// -----------------------------------------------------------------------------------
//
// Contents:
// 0.   .moo-ui-form                - form customization
// 1.   shared                      - shared classes for groups of form elements
// 1.1  .moo-ui-input-container     - generic class for input containers
// 1.2. .moo-field-short            - generic class for smaller fields
// 1.3. .cleanbox                   - custom styling for generic cleanbox element
// 1.4  .moo-ui-input               - generic class for inputs and textareas
// 2.   label customization         - specific label styles
// 3.   input fields customization  - custom styles for different inputs
// 3.1  address fields              - address inputs custom styling
// 3.2  phone fields                - phone inputs custom styling
// 3.3  contact name                - contact name custom wrapper
// 4.   select                      - custom styles for select elements
// 5. checkbox                      - custom checkboxes
// -----------------------------------------------------------------------------------

// color variables
// -----------------------------------------------------------------------------------
$input-border-color: lighten($color-border-forms, 15%);


// 0   .moo-ui-form
// -----------------------------------------------------------------------------------
.moo-ui-form {
    background: transparent;
    border: none;
    @include border-radius(9px);
    margin: 3em auto;
    // width: 95%; legend fixme
    fieldset {
        background: $color-bg-forms;
        border: 1px solid $color-border-forms;
        @include border-radius(9px);
        padding: 0;
        margin: 0 0 2em;
    }
    .moo-field {
        border-top: none; 
        border-bottom: 1px solid $color-border-forms;
        padding: .5em 1em;
        &:last-child {
            border: none;
        }
        &.control-button {
            padding: 1em;
        }
    }

}

// 1.1 .moo-ui-input-container
// -----------------------------------------------------------------------------------
//
// A basic class inherited by all the input containers in the forms. 
// Used for setting common properties, as borders, widths, paddings, etc.
//
// * 1 changed from 70% to 100% because this theme has no labels
.moo-ui-input-container {
    // @include box-shadow( rgba(black, .2) 0 1px 2px 0 inset);
    border-color: $input-border-color;
    width: 100%; // * 1
} 

// 1.2 .moo-field-short
// -----------------------------------------------------------------------------------
//
// A basic class inherited by the form's 'short' fields, such as postal code, or address number fields.
// It extends the .moo-field class with different widths or specific layout modifications.
//
.moo-field-short {
    @include float-left;
}

// 1.3 .cleanbox custom
// -----------------------------------------------------------------------------------
//
// Cleanbox it's the small link next to a text-input (or inside) 
// that cleans (deletes) such input's text.
//

.cleanbox {
    color: transparent;
    overflow: hidden;
    padding: 0 .5em;
    &:before {
        content: " ";
        @include mootor-sprite(input-clean, $offset-y: 4px);
        display: inline-block;
        position: absolute;         
        width: 100%;
        height: 100%;
    }
}

// 1.4. .moo-ui-input
// -----------------------------------------------------------------------------------
//
// A basic class inherited by the form's inputs and textareas.
// Used for setting common properties, such as font-sizing, widths, etc.
//
.moo-ui-input {
    padding: 0 0.4em;
}

// 2. label customizations
// -----------------------------------------------------------------------------------
.moo-ui-form .moo-field > label {
    color: $color-label-forms;
    text-align: right;
    text-overflow: ellipsis;
    white-space: nowrap;
    padding: 0 1em 0 0;
    overflow: hidden;
    width: 30%;
}

// 2. legend customization
// -----------------------------------------------------------------------------------
.moo-ui-form legend, // test legends
.moo-ui-form .legend {
    border-bottom: 1px solid $color-border-forms;
    font-size: 3em;
    font-weight: 700;
    line-height: 1.6;
    margin: .5em 0 0;
    padding: 0 1.5em .75em;
    display: block;
    width: 100%;
    @extend .clearfix;
}

.moo-ui-form .moo-field > legend {
    color: $color-label-forms;
}

// 3. input fields customization
// -----------------------------------------------------------------------------------
//

.moo-ui-input {
    font-size: 15px;
    line-height: 21px;
    height: 21px;
}
.moo-ui-text {
    background: transparent;
    border: none;
    padding: .5em 2em .25em .25em;
    width: 100%;
}
.cleanbox {
    font-size: 19px;
    line-height: 1.5;
    padding: 0 10px; 
}


// 3.1 address fields
// -----------------------------------------------------------------------------------
.moo-field.address-floor {
    @extend .moo-field-short;
    width: 57%; // 100% - .address-number width
    > label { width: 57% }
    .moo-ui-text { width: 42% }
}

.moo-field.address-number {
    @extend .moo-field-short;
    width: 43%; // 100% - .address-floow width
}

.moo-field.postal-code {
    clear: both; // to clear .address-number and .address-floor floats
    .moo-ui-text {
        width: 34.5%;
        float: left;
    }
}

// 3.2 phone fields
// -----------------------------------------------------------------------------------
.moo-field.phone {
    .moo-ui-text {
        float: left;
        margin: 0 .5% 0 0;
        width: 17%;        
        &:nth-child(4) { // targets the 'number' .moo-ui-text
            width: 35%;
            margin: 0;
        }
    }
}

// 3.3 contact name 
// -----------------------------------------------------------------------------------
.moo-field.contact {
    .moo-ui-select-wrapper {
        width: 26%;
    }
    .moo-ui-select-container { 
        .moo-ui-select-text {
            width: 80%;
        }
    }
    .moo-ui-text {
        @include float-right;
        width: 43%;
    }
}


// 4 select
// -----------------------------------------------------------------------------------
// * 1 These styles aren't in the core framework, but are necesary to make the select work in android 2
// * 2 changed from 70% to 100% because this theme has no labels
.moo-field {
     .moo-ui-select-wrapper {
        @include float-left;
        position: relative;
        width: 100%; // * 2
        .moo-ui-select-container {
            width: 100%;
            z-index: 200;
        }
    }
}

.moo-ui-select-container { 
    .moo-ui-select-list li { padding: .75em}
    .moo-ui-select-link {
        color: transparent;
        text-indent: -9999px;
        &:before {
            content: " ";
            @include mootor-sprite(select-arrow, $offset-y: 9px);
            display: inline-block;
            position: absolute;
            height: 100%;
            width: 100%;
        }
        &:after {
            border-color: $input-border-color;
            border-left: 1px solid $input-border-color;
            background: transparent none;
        }
    }
}


// 5 checkbox
// -----------------------------------------------------------------------------------

.moo-ui-checkbox-icon {
    background-color: darken($color-bg-main, 10%);
    border: 1px solid lighten($color-border-main, 40%);
    top: .85em;
    width: 18px;
    height: 18px;
}
.moo-ui-checkbox.moo-active {
    .moo-ui-checkbox-icon {
        background-color: darken($color-bg-main, 10%);
        &:after {
            background-color: transparent;
            box-shadow: none;
            @include mootor-sprite(checked, $dimensions: true);
            top: -.25em;
            left: 0;
        }
    }
}

// 6 button
// -------------------------------------------------------------------------------------

.control-button {
    .button {
        font-size: 2em;
        text-align: center;
        display: block;
        width: 100%;
    }
}
